# ê°œë°œí™˜ê²½

## ğŸš€ React + TypeScript + Lint + Parcel

## 1. FNM

### fnm ì„¤ì¹˜

```terminal
brew install fnm
```

### í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€

```shell
# ~/.zshrc
eval "$(fnm env --use-on-cd)"
```

### FNM ê¸°ë³¸ ëª…ë ¹ì–´

#### ë²„ì „ í™•ì¸

```shell
fnm --version
```

#### ì„¤ì¹˜ ê°€ëŠ¥ ë²„ì „ ë¦¬ìŠ¤íŠ¸ í™•ì¸

```shell
fnm list-remote
```

#### ë²„ì „ ì„¤ì¹˜

```shell
fnm install --lts (Long Term Support)
fnm install <version>
```

#### ì„¤ì¹˜í•œ ë²„ì „ ì‚¬ìš©

```shell
fnm use lts-latest
fnm use <version>
```

#### íŠ¹ì • ë²„ì „ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©

```shell
fnm default $(fnm current)
fnm default <version>
```

> ì´í›„ Parcel ì„¤ì¹˜ ê³¼ì •ì˜ ì´ìŠˆë¡œ ì¸í•´ v18.15.0 ì‚¬ìš© (ì›ì¸ ë¶ˆëª…)

#### í”„ë¡œì íŠ¸ ì•ˆìœ¼ë¡œ ì§„ì…í–ˆì„ ë•Œ node version ë³€ê²½í•˜ê¸°

í”„ë¡œì íŠ¸ í´ë”ì˜ ë£¨íŠ¸ë¡œ ë“¤ì–´ê°€ .node-version íŒŒì¼ ìƒì„±

```shell
node --version > .node-version
```

### 2. npm íŒ¨í‚¤ì§€ ì¤€ë¹„

```shell
# npm ì „ì—­ ì„¤ì¹˜ ë° ì—…ê·¸ë ˆì´ë“œ
npm install -g npm
npm install -g npm@latest
```

```shell
# í”„ë¡œì íŠ¸ ë‚´ë¶€ì—ì„œ npm ì´ˆê¸°í™”
npm init -y
```

## 2. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì„¤ì •

ì—¬ê¸°ì„œ -D ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬, íƒ€ì…ìŠ¤íŠ¸ë¦½íŠ¸ë¥¼ í”„ë¡œë•ì…˜ í™˜ê²½ì—ëŠ” ì„¤ì¹˜ë˜ì§€ ì•Šë„ë¡ í•œë‹¤.
íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì½”ë”©ì„ ìœ„í•œ ë„êµ¬ë¡œ ì„¤ì •í•œë‹¤.

```shell
npm i -D typescript
npx tsc --init
```

## 3. ESLint ì„¤ì •

```shell
npm i -D eslint
npx eslint --init
```

```shell
npx eslint --init

@eslint/create-config@0.4.6
- Ok to proceed? (y) y

How would you like to use ESLint? â€¦
- To check syntax, find problems, and enforce code style

What type of modules does your project use? â€¦
- JavaScript modules (import/export)

Which framework does your project use? â€¦
- React

Does your project use TypeScript?
- Yes

Where does your code run?
- Browser

How would you like to define a style for your project? â€¦
- Use a popular style guide

Which style guide do you want to follow? â€¦
- XO: https://github.com/xojs/eslint-config-xo-typescript

What format do you want your config file to be in? â€¦
- JavaScript

eslint-plugin-react@latest eslint-config-xo@latest ...
? Would you like to install them now? â€º No / Yes
- Yes

Which package manager do you want to use? â€¦
- npm
```

## 4. React ì„¤ì¹˜

```shell
npm i react react-dom
npm i -D @types/react @types/react-dom
```

## 5. í…ŒìŠ¤íŒ… ë„êµ¬ ì„¤ì¹˜(Jest)

```shell
npm i -D jest @types/jest @swc/core @swc/jest \
    jest-environment-jsdom \
    @testing-library/react @testing-library/jest-dom@5.16.4
```

## 6. Parcel ì„¤ì¹˜

```shell
npm i -D parcel
```

> Parcel ì´ë€?
>
> ëª¨ë“ˆ ë²ˆë“¤ëŸ¬. Webpack ê³¼ í•¨ê»˜ bundler ì‹œì¥ì˜ ì ìœ ìœ¨ì„ ë‚˜ëˆ ê°–ê³  ìˆë‹¤.
> ë²ˆë“¤ëŸ¬ë€ dependencyê°€ ìˆëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ìµœì í™”/ì••ì¶•í•˜ì—¬ í•˜ë‚˜ í˜¹ì€ ì—¬ëŸ¬ê°œì˜
> static íŒŒì¼ë¡œ ë¹Œë“œí•´ì£¼ëŠ” ì»´íŒŒì¼ëŸ¬ì´ë‹¤. Webpack ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ ì¥ì ì´ ìˆë‹¤ê³  í•œë‹¤.

## 7. parcel-reporter-static-files-copy ì„¤ì¹˜

```shell
npm install -D parcel-reporter-static-files-copy
```

```shell
# Root path ì— static í´ë”ë¥¼ ë§Œë“ ë‹¤. ì •ì  ì´ë¯¸ì§€ ë“±ì„ í•´ë‹¹ í´ë”ì— ë„£ëŠ”ë‹¤.
mkdir static
```

## ETC

### .gitignore íŒŒì¼ ìƒì„±

```terminal
...
/dist/
/.parcel-cache/
```

[gitignore.io ë°”ë¡œê°€ê¸°](https://www.toptal.com/developers/gitignore)

### tsconfig.json ìˆ˜ì •

```javascript
...
"jsx": "react-jsx",
```

### .eslintrc.js ìˆ˜ì •

```javascript
env: {
  browser: true,
  es2021: true,
  jest: true,  # ì¶”ê°€. Jestë¥¼ ì„¤ì¹˜í•œ ê²½ìš°
},
extends: [
  'xo',
  'plugin:react/recommended',
  'plugin:react/jsx-runtime',  # ì¶”ê°€
],
```

#### prettier ì™€ ì¶©ëŒ ë°©ì§€

```shell
npm install --save-dev eslint-config-prettier
```

```javascript
// .eslintrc.js íŒŒì¼ ìˆ˜ì • - prettier ì¶”ê°€
extends: ['xo-typescript', 'prettier'],
```

> vscode ê»ë‹¤ ì¼œê¸°

### .eslintignore íŒŒì¼ ìƒì„±

```shell
/node_modules/
/dist/
/.parcel-cache/
```

### .parcelrc ìƒì„±

```javascript
{
  "extends": ["@parcel/config-default"],
  "reporters":  ["...", "parcel-reporter-static-files-copy"]
}
```

### .vscode í´ë” ìƒì„± -> settings.json íŒŒì¼ ìƒì„±

```javascript
{
  "editor.rulers": [80],
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "explicit"
  },
  "trailing-spaces.trimOnSave": true
}
```

### index.html ìƒì„±

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>React Demo App</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="./src/main.tsx"></script>
  </body>
</html>
```

### App.tsx ìƒì„± (src í´ë” ìƒì„± í›„)

```javascript
export default function App() {
  return <p>Hello, world!</p>;
}
```

### main.ts íŒŒì¼ (src í´ë” ìƒì„± í›„)

```javascript
import ReactDOM from 'react-dom/client';

import App from './App';

function main() {
  const element = document.getElementById('root');

  if (!element) {
    return;
  }

  const root = ReactDOM.createRoot(element);

  root.render(<App />);
}

main();
```

### package.json íŒŒì¼ ìˆ˜ì •

```javascript
"source": "./index.html",
...
"scripts": {
    "start": "parcel --port 8080",
    "build": "parcel build",
    "check": "tsc --noEmit",
    "lint": "eslint --fix --ext .js,.jsx,.ts,.tsx .",
    "test": "jest",
    "coverage": "jest --coverage --coverage-reporters html",
    "watch:test": "jest --watchAll"
  },
```

## ë¹Œë“œ + ì •ì  ì„œë²„ ì‹¤í–‰

### ë¹Œë“œ

```shell
npx parcel build
```

### ì •ì  ì„œë²„ ì‹¤í–‰

```shell
npx servor ./dist
```
